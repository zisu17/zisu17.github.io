---
title: "[Kafka] ì¹´í”„ì¹´ ì„œë²„ ë° UI êµ¬ì„±"
excerpt: "ë¡œì»¬ì— ì¹´í”„ì¹´ ì„¤ì¹˜ ë° UIë¡œ Topic ìƒì„±í•˜ê¸°"

categories:
  - Kafka
tags:
  - [Kafka]

permalink: /data/[Kafka]-ì¹´í”„ì¹´-ì„œë²„-ë°-UI-êµ¬ì„±/

toc: true
toc_sticky: true

date: 2024-01-13
last_modified_at: 2024-01-13
---

## Kafka ë° Kafka-UI ë¡œì»¬ ì‹¤í–‰
### ê°€ìƒë¨¸ì‹  í™˜ê²½ ì…‹íŒ…
ê°œì¸ PCë¥¼ ì‚¬ìš©í•˜ë©´ ë„ì»¤ ë°ìŠ¤í¬íƒ‘ì„ ì‚¬ìš©í•´ ë°ëª¬ì„ ê´€ë¦¬í•˜ê³  ê¸°ì—…ìš© PCì—ì„œëŠ” ë„ì»¤ ë°ìŠ¤í¬íƒ‘ì´ ìœ ë£Œ ë¼ì´ì„ ìŠ¤ì´ë¯€ë¡œ Limaë¥¼ í™œìš©í•´ ê°€ìƒ ë¨¸ì‹  ì‹¤í–‰í•˜ë„ë¡ í•œë‹¤.
```
brew install lima
limactl start
limactl list
lima
```

ê°€ìƒë¨¸ì‹  ë‚´ì— docker cli ì„¤ì¹˜ ë° ì‹¤í–‰í•œë‹¤.
```
sudo apt update
sudo apt install docker.io
sudo systemctl start docker
```

ìë°” ì„¤ì¹˜
```
sudo apt install default-jdk
java -version
```

~/.lima/cdc-kafka-test/lima.yaml (ìƒì„±í•œ ê°€ìƒë¨¸ì‹  ì´ë¦„ìœ¼ë¡œ ì ‘ê·¼)
writable: nulll â†’ writable: trueë¡œ ë³€ê²½í•œë‹¤.
```
mounts:
  - location: "~"
    # Configure the mountPoint inside the guest.
    # ğŸŸ¢ Builtin default: value of location
    mountPoint: null
    # CAUTION: `writable` SHOULD be false for the home directory.
    # Setting `writable` to true is possible, but untested and dangerous.
    # ğŸŸ¢ Builtin default: false
    writable: true
```

ê°€ìƒë¨¸ì‹  í˜¸ìŠ¤íŠ¸ IP í™•ì¸
```
sudo apt install net-tools
ifconfig
```


### ë²„ì „ í˜¸í™˜ í™•ì¸
```
# íŒŒì´ì¬ ë²„ì „ í™•ì¸
python --version
Python 3.11.6

# ìë°” ë²„ì „ í™•ì¸
java --version
java version "11.0.18" 2023-01-17 LTS
Java(TM) SE Runtime Environment 18.9 (build 11.0.18+9-LTS-195)
Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.18+9-LTS-195, mixed mode)

# ìŠ¤íŒŒí¬ ë²„ì „ í™•ì¸
spark-submit --version
Welcome to
      ____              __
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  '_/
   /___/ .__/\_,_/_/ /_/\_\   version 3.3.2
      /_/
                        
Using Scala version 2.12.15, Java HotSpot(TM) 64-Bit Server VM, 11.0.18
Branch HEAD
Compiled by user liangchi on 2023-02-10T19:57:40Z
Revision 5103e00c4ce5fcc4264ca9c4df12295d42557af6
Url https://github.com/apache/spark
Type --help for more information.
```

Python 3.11.6, Java 17.0.9, Spark 3.3.2, Scala 2.12.15 ë²„ì „ ê¸°ì¤€ (ë‚´ ë²„ì „ì— ë§ê²Œ ì¹´í”„ì¹´ ì„¤ì¹˜)
https://kafka.apache.org/downloads
```
mkdir temp
wget -P ./temp https://dlcdn.apache.org/kafka/3.6.1/kafka_2.12-3.6.1.tgz
sudo tar -xvzf ./temp/kafka_2.12-3.6.1.tgz -C ./
sudo mv kafka_2.12-3.6.1 kafka
```

./kafka/config/server.properties
ì£¼ì„ì²˜ë¦¬ í•´ì œí›„ ìœ„ì—ì„œ í™•ì¸í•œ ê°€ìƒë¨¸ì‹  í˜¸ìŠ¤íŠ¸ë¡œ ìˆ˜ì •í•œë‹¤.
```
advertised.listeners=PLAINTEXT://{{host_ip}}:9092
```


### Zookeeper, Kafka, UI ì‹¤í–‰

ZooKeeper ì‹¤í–‰
```
sudo bin/zookeeper-server-start.sh config/zookeeper.properties &
```

Kafka ì„œë²„ ì‹¤í–‰
```
sudo bin/kafka-server-start.sh config/server.properties &
```

dockerë¡œ kafka-ui ì´ë¯¸ì§€ ì‹¤í–‰
```
sudo docker run -p 8080:8080 -e KAFKA_CLUSTERS_0_NAME=local -e KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS={{host_ip}}:9092 provectuslabs/kafka-ui:latest
```


Kafka Topic ìƒì„±
ë¡œì»¬ ì¹´í”„ì¹´ UI ì ‘ê·¼ (localhost:8080)
![image](https://github.com/zisu17/zisu17/assets/108858121/8beab092-e311-43cc-8eb3-b0a062c57dd1)

ì¹´í”„ì¹´ ë¸Œë¡œì»¤ê°€ í•˜ë‚˜ì´ë¯€ë¡œ Replication Factor 1ë¡œ í…ŒìŠ¤íŠ¸ í† í”½ ìƒì„±
![image](https://github.com/zisu17/zisu17/assets/108858121/f8fde89b-0223-4569-ace3-5a73a6318b7b)
